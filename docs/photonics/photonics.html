
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>photonics Module &#8212; KLayout Photonic PCells 1.0.3 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Example: Create Sample Library" href="example_library.html" />
    <link rel="prev" title="drc Module" href="../drc/drc.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="example_library.html" title="Example: Create Sample Library"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../drc/drc.html" title="drc Module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">KLayout Photonic PCells 1.0.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../modules.html" accesskey="U">Code Documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="photonics-module">
<h1>photonics Module<a class="headerlink" href="#photonics-module" title="Permalink to this headline">¶</a></h1>
<p>This package is a library extension for KLayout to provide functionalities for photonic structures.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>KLayout does not check if a loaded module has changed during runtime and thus does not reread/recompile it.
This means you either must manually reload the library if you want to do it during runtime. Generally, it is easier and
safer to close and reopen KLayout.</p>
<p>If this extension is modified (or any file in a <code class="docutils literal notranslate"><span class="pre">/python</span></code> directory), don’t forget to either reload the module or
reopen KLayout.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To reload a module during runtime use the following commands in the KLayout python console (not guaranteed to work in all cases):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">importlib</span> <span class="k">import</span> <span class="n">reload</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reload</span><span class="p">(</span><span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="module-kppc.photonics">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-kppc.photonics" title="Permalink to this headline">¶</a></h2>
<p>Photonic PCell-Extension Module</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Before using this module for the first time, make sure the <cite>kppc.drc.slcleaner</cite> submodule is compiled and importable, as this  module
relies on the drc package for DR-Cleaning. See <code class="xref py py-mod docutils literal notranslate"><span class="pre">drc</span></code> for further details.</p>
</div>
<p>A Module which provides extensions for standard KLyaout-PCells. This extension mainly provides functionalities for
photonics. One main feature of photonics are so-called ports. These define a position and a direction on a Cell.
They indicate where multiple Cells/Devices should interact with each other. For example, one can connect a waveguide
with a linear taper. This module provides the classes and functions for this functionality. Additionally, this module
provides a lot of convenience functions for interactions with the KLayout-API.</p>
<p>The main functionality for this module is in the class <a class="reference internal" href="#kppc.photonics.PhotDevice" title="kppc.photonics.PhotDevice"><code class="xref py py-class docutils literal notranslate"><span class="pre">PhotDevice</span></code></a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When using this module to extend a PCell-Library any PCell class has to assign valid values to the
parameters <code class="docutils literal notranslate"><span class="pre">layermap</span></code> , <code class="docutils literal notranslate"><span class="pre">dataprep_config</span></code> , <code class="docutils literal notranslate"><span class="pre">clean_rules</span></code> . These are accessed by <a class="reference internal" href="#kppc.photonics.PhotDevice" title="kppc.photonics.PhotDevice"><code class="xref py py-class docutils literal notranslate"><span class="pre">PhotDevice</span></code></a>. If they
aren’t declared, a runtime error will occur.</p>
</div>
<dl class="class">
<dt id="kppc.photonics.InstanceHolder">
<em class="property">class </em><code class="sig-prename descclassname">kppc.photonics.</code><code class="sig-name descname">InstanceHolder</code><span class="sig-paren">(</span><em class="sig-param">cell_name</em>, <em class="sig-param">lib</em>, <em class="sig-param">pcell_decl</em>, <em class="sig-param">params=None</em>, <em class="sig-param">params_mod=None</em>, <em class="sig-param">id=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#InstanceHolder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.InstanceHolder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to keep track and hold the information of a pcell instance. The information will be processed to a PCell in
<a class="reference internal" href="#kppc.photonics.PhotDevice.produce_impl" title="kppc.photonics.PhotDevice.produce_impl"><code class="xref py py-func docutils literal notranslate"><span class="pre">produce_impl()</span></code></a></p>
<dl class="method">
<dt id="kppc.photonics.InstanceHolder.move">
<code class="sig-name descname">move</code><span class="sig-paren">(</span><em class="sig-param">x=0</em>, <em class="sig-param">y=0</em>, <em class="sig-param">rot=0</em>, <em class="sig-param">mirrx=False</em>, <em class="sig-param">mag=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#InstanceHolder.move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.InstanceHolder.move" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves an instance. Units of microns relative to origin.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – x position where to move</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – y position where to move</p></li>
<li><p><strong>rot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Rotation of the object in degrees</p></li>
<li><p><strong>mirrx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Mirror at x-axis if True</p></li>
<li><p><strong>mag</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Magnification of the Cell. This feature is not tested well.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.InstanceHolder.port">
<code class="sig-name descname">port</code><span class="sig-paren">(</span><em class="sig-param">port</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#InstanceHolder.port"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.InstanceHolder.port" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a reference to itself and the port number. No checks are made whether this port is valid or not!
Available ports can be seen if such an object is instantiated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – index of the port</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self, port</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.InstanceHolder.port_to_port">
<code class="sig-name descname">port_to_port</code><span class="sig-paren">(</span><em class="sig-param">port</em>, <em class="sig-param">inst_holder</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#InstanceHolder.port_to_port"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.InstanceHolder.port_to_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach one of this instance’s ports to another instance’s port.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – port of this instance</p></li>
<li><p><strong>inst_holder</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>) – Tuple of the the reference to the other instance and the port to connect to.
This is a tuple returned from &lt;InstanceHolder object&gt;.port(&lt;portnumber&gt;).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kppc.photonics.PhotDevice">
<em class="property">class </em><code class="sig-prename descclassname">kppc.photonics.</code><code class="sig-name descname">PhotDevice</code><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pya.PCellDeclarationHelper</span></code></p>
<p>Wrapper for calls to the Klayout API.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layermap</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – The layermap dictionary. This value has to be written by a child class. If undefined this
class won’t work and crash.</p></li>
<li><p><strong>dataprep_config</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – String with the path to the file containing the dataprep instructions.
If left empty, dataprep will do nothing.</p></li>
<li><p><strong>clean_rules</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – String with the path to the file containing the DR-Cleaning rules.
If left empty, DR-Cleaning will do nothing. If the cells are built similar to the FreePDK45-SampleCells example,
DR-Cleaning will not work without dataprep, or will be without any effect.</p></li>
<li><p><strong>keep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Parameter created during <code class="xref py py-func docutils literal notranslate"><span class="pre">__init__()</span></code> via pya.DeclarationHelper. If set to True in the PCell,
all child-cells will be preserved at the end. If set to False only the Dataprep Sub-Cell will be preserved.</p></li>
<li><p><a class="reference internal" href="#module-kppc.photonics.dataprep" title="kppc.photonics.dataprep"><strong>dataprep</strong></a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If this flag is set, <a class="reference internal" href="#kppc.photonics.dataprep.dataprep" title="kppc.photonics.dataprep.dataprep"><code class="xref py py-func docutils literal notranslate"><span class="pre">kppc.photonics.dataprep.dataprep()</span></code></a> will be performed on the cell. The variable
<code class="xref py py-attr docutils literal notranslate"><span class="pre">dataprep_config</span></code> holds the path to the instructions for dataprep.</p></li>
<li><p><a class="reference internal" href="../drc/cleaner.html#kppc.drc.slcleaner.PyDrcSl.clean" title="kppc.drc.slcleaner.PyDrcSl.clean"><strong>clean</strong></a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If this flag is set, <a class="reference internal" href="../drc/drc.html#kppc.drc.clean" title="kppc.drc.clean"><code class="xref py py-func docutils literal notranslate"><span class="pre">kppc.drc.clean()</span></code></a> will be performed on the cell. Rules for the DR-Cleaning
are pulled from <code class="xref py py-attr docutils literal notranslate"><span class="pre">clean_rules</span></code>.</p></li>
<li><p><strong>top</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Hidden parameter that indicates whether this cell is a top_cell. Default is yes. When an instance is
added through <a class="reference internal" href="#kppc.photonics.PhotDevice.add_pcell_variant" title="kppc.photonics.PhotDevice.add_pcell_variant"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_pcell_variant()</span></code></a> these cells will not be set to top_cells as they are instantiated from
another cell.</p></li>
<li><p><strong>only_top_ports</strong> – GUI parameter. If set to true, only ports of the top most hierarchy level (top_cell) will be
annotated by text.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="kppc.photonics.PhotDevice.add_layer">
<code class="sig-name descname">add_layer</code><span class="sig-paren">(</span><em class="sig-param">var_name</em>, <em class="sig-param">name=''</em>, <em class="sig-param">layer=0</em>, <em class="sig-param">datatype=0</em>, <em class="sig-param">ld=()</em>, <em class="sig-param">field_name=''</em>, <em class="sig-param">hidden=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.add_layer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.add_layer" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a layer to the layer list of the pcell by name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – name of the variable</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – name in the pcell window</p></li>
<li><p><strong>layer</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – layernumber</p></li>
<li><p><strong>datatype</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – layerdatatype</p></li>
<li><p><strong>field_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – </p></li>
<li><p><strong>hidden</strong> – hide in the GUI</p></li>
</ul>
</dd>
<dt class="field-even">Examples</dt>
<dd class="field-even"><p>self.add_layer(‘lpp’,’rx1phot.drawing’)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.add_params">
<code class="sig-name descname">add_params</code><span class="sig-paren">(</span><em class="sig-param">params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.add_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.add_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the PCell conform dictionary from a parameter list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) – Dictionary of parameters</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.add_pcell_variant">
<code class="sig-name descname">add_pcell_variant</code><span class="sig-paren">(</span><em class="sig-param">params</em>, <em class="sig-param">number=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.add_pcell_variant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.add_pcell_variant" title="Permalink to this definition">¶</a></dt>
<dd><p>Add variants of PCells. Creates a list of InstanceHolders and modifies their parameters accordingly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) – parameter list from which to create pcells</p></li>
<li><p><strong>number</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Number of instances to create</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of <a class="reference internal" href="#kppc.photonics.InstanceHolder" title="kppc.photonics.InstanceHolder"><code class="xref py py-class docutils literal notranslate"><span class="pre">kppc.photonics.InstanceHolder</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.add_pcells">
<code class="sig-name descname">add_pcells</code><span class="sig-paren">(</span><em class="sig-param">instance_list</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.add_pcells"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.add_pcells" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates list of instances of PCells. These are the effective Klayout cell instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>instance_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>) – list of <a class="reference internal" href="#kppc.photonics.InstanceHolder" title="kppc.photonics.InstanceHolder"><code class="xref py py-class docutils literal notranslate"><span class="pre">kppc.photonics.InstanceHolder</span></code></a></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of instantiated pya.CellInstArray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.calculate_ports">
<code class="sig-name descname">calculate_ports</code><span class="sig-paren">(</span><em class="sig-param">instances</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.calculate_ports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.calculate_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates port locations in the cell layout. This is to propagate the port locations upwards</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>instances</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>) – list containing <a class="reference internal" href="#kppc.photonics.InstanceHolder" title="kppc.photonics.InstanceHolder"><code class="xref py py-class docutils literal notranslate"><span class="pre">kppc.photonics.InstanceHolder</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.clear_ports">
<code class="sig-name descname">clear_ports</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.clear_ports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.clear_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears self.portlist and by that delete all ports. This is used when updating the Ports</p>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.coerce_parameters_impl">
<code class="sig-name descname">coerce_parameters_impl</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.coerce_parameters_impl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.coerce_parameters_impl" title="Permalink to this definition">¶</a></dt>
<dd><p>Method called by Klayout to update a PCell. For photonic PCells the ports are updated/calculated in the
parameter of the PCell. And desired movement transformations are performed.</p>
<p>Because the calculated ports of our own PCell are used by parent cells and are needed before
<cite>~produce_impl</cite>, we must calculate them twice. First to calculate where our own ports are and then again to
instantiate the child cells. This is unfortunate but not a big problem, since dataprep and DR-cleaning take
the majority of computation time.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.connect_port">
<code class="sig-name descname">connect_port</code><span class="sig-paren">(</span><em class="sig-param">pos1</em>, <em class="sig-param">portlist1</em>, <em class="sig-param">port1</em>, <em class="sig-param">pos2</em>, <em class="sig-param">portlist2</em>, <em class="sig-param">port2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.connect_port"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.connect_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect ports of two instances. The second instance will be transformed to attach to the first instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – index of instance1</p></li>
<li><p><strong>portlist1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – portlist of instance1</p></li>
<li><p><strong>port1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – port number of instance1</p></li>
<li><p><strong>pos2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – index of instance2</p></li>
<li><p><strong>portlist2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – portlist of instance2</p></li>
<li><p><strong>port2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – port number of instance2</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.connect_port_to_port">
<code class="sig-name descname">connect_port_to_port</code><span class="sig-paren">(</span><em class="sig-param">port1</em>, <em class="sig-param">port2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.connect_port_to_port"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.connect_port_to_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect Ports from two InstanceHolder instances.</p>
<p>Connect two <cite>InstanceHolders</cite> together. Attach &lt;InstanceHolder instance1&gt;.port(&lt;port1&gt;) to &lt;InstanceHolder instance2&gt;.port(&lt;port2&gt;).
This will apply a transformation to Instance2. There can only be either a transformation through connect_port_to_port or through InstanceHolder.move</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>) – &lt;InstanceHolder instance1&gt;.port(&lt;port1&gt;)</p></li>
<li><p><strong>port2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>) – &lt;InstanceHolder instance2&gt;.port(&lt;port2&gt;)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.create_param_inst">
<code class="sig-name descname">create_param_inst</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.create_param_inst"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.create_param_inst" title="Permalink to this definition">¶</a></dt>
<dd><p>To be overwritten by the effective PCell</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Iterable with the declarations of the child PCells.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.create_path">
<code class="sig-name descname">create_path</code><span class="sig-paren">(</span><em class="sig-param">points</em>, <em class="sig-param">width</em>, <em class="sig-param">layer</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.create_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.create_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a pya.Path object and inserts it into the Library-PCell.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>points</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>) – The points describing the path [[x1,y1],[x2,y2],…] in microns</p></li>
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – Path width</p></li>
<li><p><strong>layer</strong> (<em>pya.LayerInfo</em>) – layer on which the path should be made</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.create_polygon">
<code class="sig-name descname">create_polygon</code><span class="sig-paren">(</span><em class="sig-param">points</em>, <em class="sig-param">layer</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.create_polygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.create_polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Polygon and adjusts from microns to database units. Format: [[x1,y1],[x2,y2],…] in microns</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>points</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>) – Points defining the corners of the polygon.</p></li>
<li><p><strong>layer</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – layer_index of the target layer</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>reference to polygon object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.create_port">
<code class="sig-name descname">create_port</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">rot=0</em>, <em class="sig-param">length=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.create_port"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.create_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Port at the specified coordinates.</p>
<p>This function will be used when a port is created through the PortCreation tuple.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – x Coordinate in microns</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – y Coordinate in microns</p></li>
<li><p><strong>rot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Rotation in degrees</p></li>
<li><p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – length of the port in microns</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.decl">
<code class="sig-name descname">decl</code><span class="sig-paren">(</span><em class="sig-param">libname</em>, <em class="sig-param">cellname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.decl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.decl" title="Permalink to this definition">¶</a></dt>
<dd><p>Get pya.PCellDeclaration of a cell in a library</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>libname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of the library</p></li>
<li><p><strong>cellname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of the cell</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pya.PCellDeclaration reference of PCell</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.flip_shape_xaxis">
<code class="sig-name descname">flip_shape_xaxis</code><span class="sig-paren">(</span><em class="sig-param">shape</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.flip_shape_xaxis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.flip_shape_xaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>Flip a polygon (or any shape) at the x-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shape</strong> (<em>pya.Shape</em>) – pya.Shape object (e.g. through photonicpcell.create_polygon obtained)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.flip_shape_yaxis">
<code class="sig-name descname">flip_shape_yaxis</code><span class="sig-paren">(</span><em class="sig-param">shape</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.flip_shape_yaxis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.flip_shape_yaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>Flip a polygon (or any shape) at the y-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shape</strong> (<em>pya.Shape</em>) – pya.Shape object (e.g. through photonicpcell.create_polygon obtained)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.get_layer">
<code class="sig-name descname">get_layer</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">purpose=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.get_layer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.get_layer" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates LayerInfo object</p>
<p>Creates a pya.LayerInfo object to find layer indexes in the current layout.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – name of the layer</p></li>
<li><p><strong>purpose</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – if not empty then layer and purpose are separate</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pya.LayerInfo about the layer</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.get_transformations">
<code class="sig-name descname">get_transformations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.get_transformations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.get_transformations" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert transformation strings back to pya.ICplxTrans objects</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of pya.ICplxTrans objects</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.insert_shape">
<code class="sig-name descname">insert_shape</code><span class="sig-paren">(</span><em class="sig-param">shape</em>, <em class="sig-param">layer</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.insert_shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.insert_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Any other Klayout shape can be added to the PCell through this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<em>pya.Shape</em>) – pya.Shape object</p></li>
<li><p><strong>layer</strong> (<em>pya.LayerInfo</em>) – layer where to write to</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>reference to shape</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.move_instance">
<code class="sig-name descname">move_instance</code><span class="sig-paren">(</span><em class="sig-param">ind</em>, <em class="sig-param">trans</em>, <em class="sig-param">mirror=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.move_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.move_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves an InstanceHolder object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ind</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – id of the InstanceHolder</p></li>
<li><p><strong>trans</strong> (<em>pya.ICplxTrans</em>) – list of transformations</p></li>
<li><p><strong>mirror</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – bool whether to mirror the object</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.produce_impl">
<code class="sig-name descname">produce_impl</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.produce_impl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.produce_impl" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the effective Klayout shapes. For this all the InstanceHolders are cycled through and all the child
instances are created. Furthermore, if desired, dataprep is performed, which copies and sizes the shapes as
desired. Dataprep will only create shapes on the topmost cell. Finally, if desired DR-cleaning is performed and
in the process the shapes will be manhattanized.</p>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.set_transformation">
<code class="sig-name descname">set_transformation</code><span class="sig-paren">(</span><em class="sig-param">ind</em>, <em class="sig-param">trans</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.set_transformation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.set_transformation" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms child cells to the intended position, defined either by connected ports or by manual
positioning.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ind</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – index of the child cell</p></li>
<li><p><strong>trans</strong> (<em>pya.ICplxTrans</em>) – Transformation object with which to transform the child cell</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.shapes">
<code class="sig-name descname">shapes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.shapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.shapes" title="Permalink to this definition">¶</a></dt>
<dd><p>To be overwritten by effective PCell if shapes should be desired.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kppc.photonics.PhotDevice.update_parameter_list">
<code class="sig-name descname">update_parameter_list</code><span class="sig-paren">(</span><em class="sig-param">params</em>, <em class="sig-param">decl</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PhotDevice.update_parameter_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PhotDevice.update_parameter_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Coerces parameter list. This is necessary to calculate port locations and update parameters in general.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) – dict of parameters</p></li>
<li><p><strong>decl</strong> (<em>pya.PCellDeclaration</em>) – pya.PCellDeclaration reference</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of updated parameters</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kppc.photonics.PortCreation">
<em class="property">class </em><code class="sig-prename descclassname">kppc.photonics.</code><code class="sig-name descname">PortCreation</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">rot</em>, <em class="sig-param">length</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#PortCreation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.PortCreation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Custom Class similar to a namedtuple</p>
<p>This will hold informations for creating ports.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – x Coordinate [microns]</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – y Coordinate [microns]</p></li>
<li><p><strong>rot</strong> – Rotation in degrees</p></li>
<li><p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Port length [microns]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="kppc.photonics.is_named_tuple_instance">
<code class="sig-prename descclassname">kppc.photonics.</code><code class="sig-name descname">is_named_tuple_instance</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics.html#is_named_tuple_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.is_named_tuple_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if something is a named tuple
This allows to test if <cite>x</cite> is a port (PortCreation object) or just a list of instance descriptions</p>
</dd></dl>

</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-kppc.photonics.dataprep">
<span id="photonics-dataprep-module"></span><h3>photonics.dataprep module<a class="headerlink" href="#module-kppc.photonics.dataprep" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="kppc.photonics.dataprep.add">
<code class="sig-prename descclassname">kppc.photonics.dataprep.</code><code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">cell</em>, <em class="sig-param">slayers</em>, <em class="sig-param">dlayers</em>, <em class="sig-param">ex_amount</em>, <em class="sig-param">layers</em>, <em class="sig-param">out_cell=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics/dataprep.html#add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.dataprep.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Combines all slayers’ shapes into a region and merges this region with each of dlayers’ regions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layout</strong> – the layout on which the cells are located</p></li>
<li><p><strong>cell</strong> – the cell from which to copy the layers (source shapes)</p></li>
<li><p><strong>slayers</strong> – the layers to copy</p></li>
<li><p><strong>dlayers</strong> – the layers where to copy to</p></li>
<li><p><strong>ex_amount</strong> – the amount added around the source shapes</p></li>
<li><p><strong>layers</strong> – the layermapping</p></li>
<li><p><strong>out_cell</strong> – the cell where to put the shapes. If not specified, the input cell will be used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="kppc.photonics.dataprep.dataprep">
<code class="sig-prename descclassname">kppc.photonics.dataprep.</code><code class="sig-name descname">dataprep</code><span class="sig-paren">(</span><em class="sig-param">in_cell</em>, <em class="sig-param">layout</em>, <em class="sig-param">out_cell=None</em>, <em class="sig-param">config=None</em>, <em class="sig-param">layers_org=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics/dataprep.html#dataprep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.dataprep.dataprep" title="Permalink to this definition">¶</a></dt>
<dd><p>Dataprep that creates excludes layers etc. with boolean operation on input layers that will be added/substracted to outputlayers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in_cell</strong> – the cell from which to take shapes</p></li>
<li><p><strong>layout</strong> – the layout on which we perform the operations (most likely self.layout)</p></li>
<li><p><strong>out_cell</strong> – the output cell. if not specified take the input cell</p></li>
<li><p><strong>config</strong> – the config file. This file specifies the boolean operations (self.dataprepconfig)</p></li>
<li><p><strong>layers_org</strong> – the original layermap we use (most likely self.layermap)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="kppc.photonics.dataprep.file_len">
<code class="sig-prename descclassname">kppc.photonics.dataprep.</code><code class="sig-name descname">file_len</code><span class="sig-paren">(</span><em class="sig-param">fname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics/dataprep.html#file_len"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.dataprep.file_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of lines in the file fname</p>
</dd></dl>

<dl class="function">
<dt id="kppc.photonics.dataprep.sub">
<code class="sig-prename descclassname">kppc.photonics.dataprep.</code><code class="sig-name descname">sub</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">cell</em>, <em class="sig-param">slayers</em>, <em class="sig-param">dlayers</em>, <em class="sig-param">ex_amount</em>, <em class="sig-param">layers</em>, <em class="sig-param">out_cell=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics/dataprep.html#sub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.dataprep.sub" title="Permalink to this definition">¶</a></dt>
<dd><p>Analogous to <a class="reference internal" href="#kppc.photonics.dataprep.add" title="kppc.photonics.dataprep.add"><code class="xref py py-func docutils literal notranslate"><span class="pre">add()</span></code></a></p>
<p>Instead of perfoming a combination with the destination layers, this function will substract the input region.</p>
</dd></dl>

</div>
<div class="section" id="module-kppc.photonics.layermaps">
<span id="photonics-layermaps-module"></span><h3>photonics.layermaps module<a class="headerlink" href="#module-kppc.photonics.layermaps" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="kppc.photonics.layermaps.load">
<code class="sig-prename descclassname">kppc.photonics.layermaps.</code><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kppc/photonics/layermaps.html#load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kppc.photonics.layermaps.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple routine to read a .layermap file into a dictionary</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Filename with path</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary of dictionaries in the form of {layer: {purpose1:(layer_number,purpose_number),
purpose2:(layer_number1,purpose_number2)},layer2: {…} }</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</dd>
<dt class="field-even">Examples</dt>
<dd class="field-even"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">kppc.photonics.layermaps</span> <span class="k">as</span> <span class="nn">lm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lm</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/.klayout/salt/zccmos/FreePDK45_tech/tech/FreePDK45.layermap&#39;</span><span class="p">))</span>
<span class="go">{&#39;pwell&#39;: {&#39;blockage&#39;: (&#39;109&#39;, &#39;1&#39;), &#39;drawing&#39;: (&#39;109&#39;, &#39;0&#39;)}, ... }</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">photonics Module</a><ul>
<li><a class="reference internal" href="#module-kppc.photonics">Module contents</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a><ul>
<li><a class="reference internal" href="#module-kppc.photonics.dataprep">photonics.dataprep module</a></li>
<li><a class="reference internal" href="#module-kppc.photonics.layermaps">photonics.layermaps module</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../drc/drc.html"
                        title="previous chapter">drc Module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="example_library.html"
                        title="next chapter">Example: Create Sample Library</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/photonics/photonics.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="example_library.html" title="Example: Create Sample Library"
             >next</a> |</li>
        <li class="right" >
          <a href="../drc/drc.html" title="drc Module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">KLayout Photonic PCells 1.0.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../modules.html" >Code Documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Sebastian Goeldi.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>